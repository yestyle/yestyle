query UserContributedReposQuery($login:String!, $email:String!, $after:String) {
  user(login: $login) {
    repositoriesContributedTo(
      after: $after,
      contributionTypes: [COMMIT],
      first: 100,
      includeUserRepositories: true,
      orderBy: {
        direction: ASC,
        field: NAME,
      },
      privacy: PUBLIC,
    ) {
      pageInfo {
        endCursor
        hasNextPage
      }
      nodes {
        defaultBranchRef {
          target {
            __typename
            ... on Commit {
              history(
                author: {
                  emails: [$email],
                },
              ) {
                nodes {
                  commitUrl
                  authoredDate
                  message
                }
              }
            }
          }
        }
        nameWithOwner
        owner {
          __typename
          login
        }
        url
      }
    }
  }
}
